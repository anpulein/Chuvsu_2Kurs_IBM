Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 1
locker.asm



      1				      ;‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚
      2				     ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
      3				      ;‚ñì‚ñì							   ‚ñì‚ñì
      4				      ;‚ñì‚ñì											    +
      5				     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
      6				     ‚îÄ‚îÄ‚îê		‚ñì‚ñì
      7				      ;‚ñì‚ñì	      ‚îÇ –ü –†	–û –ì –† –ê –ú –ú –ê   L O C K E R ‚îÇ		‚ñì‚ñì
      8				      ;‚ñì‚ñì											    +
      9				     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
     10				     ‚îÄ‚îÄ‚îò		‚ñì‚ñì
     11				      ;‚ñì‚ñì							   ‚ñì‚ñì
     12				      ;‚ñì‚ñì –≠—Ç–æ —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ COM —Ç–∏–ø–∞, –∑–∞–ø–∏—Ä–∞—é—â–∞—è   +
     13				     –Ω–∞    ‚ñì‚ñì
     14				      ;‚ñì‚ñì –≤—Ä–µ–º—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç	    +
     15				     –≤–µ–∫—Ç–æ—Ä     ‚ñì‚ñì
     16				      ;‚ñì‚ñì –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è Int09h –∏ –∑–∞–º–µ–Ω—è–µ—Ç* –≤ —Ä–µ–∑–∏–¥–µ–Ω—Ç–µ 5232 –±–∞–π—Ç  +
     17				     ‚ñì‚ñì
     18				      ;‚ñì‚ñì							   ‚ñì‚ñì
     19				      ;‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚
     20				     ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
     21
     22
     23	0000			      PROGRAM	segment
     24					  assume CS:PROGRAM
     25					  org	100h;–ø—Ä–æ–ø—É—Å–∫ PSP	–¥–ª—è COM-–ø—Ä–æ–≥—Ä–∞–º–º—ã
     26
     27	0100  E9 269D		      Start: jmp InitProc; –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
     28
     29				      ;–† –ï –ó	–ò –î –ï –ù –¢ –ù –´ –ï	  –î –ê	–ù –ù –´ –ï
     30	      =00EE		      FuncNum equ 0EEh;–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è
     31						      ;–ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è BIOS Int16h
     32	      =2D0C		      CodeOut	equ   2D0Ch
     33				     ;–∫–æ–¥, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –Ω–∞—à–∏–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º Int16h
     34	      =9D0A		      TestInt09	equ   9D0Ah; —Å–ª–æ–≤–æ	–ø–µ—Ä–µ–¥ Int09h
     35	      =3AFA		      TestInt16	equ   3AFAh; —Å–ª–æ–≤–æ	–ø–µ—Ä–µ–¥ Int16h
     36
     37	0103			      OldInt09	label dword; —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä Int09h:
     38	0103  ????		       OfsInt09	dw    ?	   ;   –µ–≥–æ —Å–º–µ—â–µ–Ω–∏–µ
     39	0105  ????		       SegInt09	dw    ?	   ;   –∏ —Å–µ–≥–º–µ–Ω—Ç
     40
     41	0107			      OldInt16	label dword; —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä Int16h:
     42	0107  ????		       OfsInt16	dw    ?	   ;   –µ–≥–æ —Å–º–µ—â–µ–Ω–∏–µ
     43	0109  ????		       SegInt16	dw    ?	   ;   –∏ —Å–µ–≥–º–µ–Ω—Ç
     44
     45	010B  00		      OK_Text	db    0	   ; –ø—Ä–∏–∑–Ω–∞–∫ –≥–∞—à–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞
     46	010C  ??		      Sign	db    ?	   ; –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–∂–∞—Ç–∏–π Ctrl
     47	      =0800		      VideoLen	equ   800h ; –¥–ª–∏–Ω–∞	–≤–∏–¥–µ–æ–±—É—Ñ–µ—Ä–∞
     48
     49	010D  A0*(20)		     VideoBuf  db    160 dup(' ')
     50	01AD  0D*(20)		      db  13 dup(' ')
     51	01BA  23 23 23 23 23 23	23+   db '######################################################'
     52	      23 23 23 23 23 23	23+
     53	      23 23 23 23 23 23	23+
     54	      23 23 23 23 23 23	23+
     55	      23 23 23 23 23 23	23+
     56	      23 23 23 23 23 23	23+
     57	      23 23 23 23 23 23	23+
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 2
locker.asm



     58	      23 23 23 23 23
     59	01F0  1A*(20)		      db  26 dup(' ')
     60	020A  23 20 20 20 20 20	20+   db '#						       #'
     61	      20 20 20 20 20 20	20+
     62	      20 20 20 20 20 20	20+
     63	      20 20 20 20 20 20	20+
     64	      20 20 20 20 20 20	20+
     65	      20 20 20 20 20 20	20+
     66	      20 20 20 20 20 20	20+
     67	      20 20 20 20 23
     68	0240  1A*(20)		      db  26 dup(' ')
     69	025A  23 20 20 20 74 6F	20+   db '#   to unlock, press the LeftControl 3 times	       #'
     70	      75 6E 6C 6F 63 6B	2C+
     71	      20 70 72 65 73 73	20+
     72	      74 68 65 20 4C 65	66+
     73	      74 43 6F 6E 74 72	6F+
     74	      6C 20 33 20 74 69	6D+
     75	      65 73 20 20 20 20	20+
     76	      20 20 20 20 23
     77	0290  1A*(20)		      db  26 dup(' ')
     78	02AA  23 20 20 20 20 20	20+   db '#						       #'
     79	      20 20 20 20 20 20	20+
     80	      20 20 20 20 20 20	20+
     81	      20 20 20 20 20 20	20+
     82	      20 20 20 20 20 20	20+
     83	      20 20 20 20 20 20	20+
     84	      20 20 20 20 20 20	20+
     85	      20 20 20 20 23
     86	02E0  1A*(20)		      db  26 dup(' ')
     87	02FA  23 20 20 20 20 20	20+   db '#						       #'
     88	      20 20 20 20 20 20	20+
     89	      20 20 20 20 20 20	20+
     90	      20 20 20 20 20 20	20+
     91	      20 20 20 20 20 20	20+
     92	      20 20 20 20 20 20	20+
     93	      20 20 20 20 20 20	20+
     94	      20 20 20 20 23
     95	0330  1A*(20)		      db  26 dup(' ')
     96	034A  23 23 23 23 23 23	23+   db '######################################################'
     97	      23 23 23 23 23 23	23+
     98	      23 23 23 23 23 23	23+
     99	      23 23 23 23 23 23	23+
    100	      23 23 23 23 23 23	23+
    101	      23 23 23 23 23 23	23+
    102	      23 23 23 23 23 23	23+
    103	      23 23 23 23 23
    104	0380  07D0*(20)		      db  2000 dup(' ')
    105
    106	0B50  0800*(07)		      AttrBuf db VideoLen dup(07h); –∞—Ç—Ä–∏–±—É—Ç—ã —ç–∫—Ä–∞–Ω–∞
    107	1350  B800		      VideoBeg dw 0B800h; –∞–¥—Ä–µ—Å –Ω–∞—á–∞–ª–∞ –≤–∏–¥–µ–æ–æ–±–ª–∞—Å—Ç–∏
    108	1352  ????		      VideoOffs	dw ?; —Å–º–µ—â–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π	—Å—Ç—Ä–∞–Ω–∏—Ü—ã
    109	1354  ????		      CurSize	dw ?;—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∫—É—Ä—Å–æ—Ä–∞
    110
    111
    112				     ; –† –ï –ó	–ò –î –ï –ù –¢ –ù –´ –ï	  –ü –†	–û –¶ –ï –î –£ –† –´
    113				     ;–ü–û–î–ü–†–û–ì–†–ê–ú–ú–ê –û–ë–ú–ï–ù–ê –í–ò–î–ï–û–û–ë–õ–ê–°–¢–ò –°	–ë–£–§–ï–†–û–ú		    +
    114				     ;–ü–†–û–ì–†–ê–ú–ú–´
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 3
locker.asm



    115
    116	1356			      VideoXcg proc
    117	1356  BF 010Dr		       lea DI,VideoBuf;	–≤ DI -	–∞–¥—Ä–µ—Å –±—É—Ñ–µ—Ä–∞	—Å–∏–º–≤–æ–ª–æ–≤
    118	1359  BE 0B50r		       lea SI,AttrBuf; –≤ SI - –∞–¥—Ä–µ—Å –±—É—Ñ–µ—Ä–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
    119	135C  2E: A1 1350r	       mov AX,VideoBeg;	–≤ ES -	—Å–µ–≥–º–µ–Ω—Ç–Ω—ã–π –∞–¥—Ä–µ—Å
    120	1360  8E C0		       mov ES,AX; –Ω–∞—á–∞–ª–∞ –≤–∏–¥–µ–æ–æ–±–ª–∞—Å—Ç–∏
    121	1362  B9 0800		       mov CX,VideoLen;	–≤ CX -	–¥–ª–∏–Ω–∞ –≤–∏–¥–µ–æ–±—É—Ñ–µ—Ä–∞
    122	1365  2E: 8B 1E	1352r	       mov BX,VideoOffs; –≤ BX - –Ω–∞—á. —Å–º–µ—â–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏
    123
    124	136A			       Draw:
    125	136A  26: 8B 07		       mov AX,ES:[BX]; –æ–±–º–µ–Ω—è—Ç—å	—Å–∏–º–≤–æ–ª/–∞—Ç—Ä–∏–±—É—Ç
    126	136D  86 24		       xchg AH,DS:[SI];	–Ω–∞ —ç–∫—Ä–∞–Ω–µ —Å —Å–∏–º–≤–æ–ª–æ–º –∏
    127						      ;	–∞—Ç—Ä–∏–±—É—Ç–æ–º
    128	136F  86 05		       xchg  AL,DS:[DI]; –∏–∑ –±—É—Ñ–µ—Ä–æ–≤
    129	1371  26: 89 07		       mov   ES:[BX],AX;
    130
    131	1374  46		       inc   SI;‚îê —É–≤–µ–ª–∏—á–∏—Ç—å –∞–¥—Ä–µ—Å
    132	1375  47		       inc   DI;‚îò –≤ –±—É—Ñ–µ—Ä–∞—Ö
    133
    134	1376  43		       inc   BX;‚îê —É–≤–µ–ª–∏—á–∏—Ç—å –∞–¥—Ä–µ—Å
    135	1377  43		       inc   BX;‚îò –≤ –≤–∏–¥–µ–æ–±—É—Ñ–µ—Ä–µ
    136
    137	1378  E2 F0		       loop  Draw; –¥–µ–ª–∞—Ç—å	–¥–ª—è –≤—Å–µ–π	–≤–∏–¥–µ–æ–æ–±–ª–∞—Å—Ç–∏
    138	137A  C3			  ret	 ;–≤–æ–∑–≤—Ä–∞—Ç
    139	137B			      VideoXcg endp
    140
    141
    142				     ;–û–ë–†–ê–ë–û–¢–ß–ò–ö –ü–†–ï–†–´–í–ê–ù–ò–Ø	Int09h (–ü–†–ï–†–´–í–ê–ù–ò–ï –û–¢
    143				     ; –ö–õ–ê–í–ò–ê–¢–£–†–´)
    144
    145	137B  9D0A		       dw TestInt09; —Å–ª–æ–≤–æ	–¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞
    146
    147
    148	137D			      Int09Hand	proc
    149	137D  50			 push  AX	     ;‚îê
    150	137E  53			 push  BX	     ;‚îÇ
    151	137F  51			 push  CX	     ;‚îÇ—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
    152	1380  57			 push  DI	     ;‚îÇ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ
    153	1381  56			 push  SI	     ;‚îÇ—Ä–µ–≥–∏—Å—Ç—Ä—ã
    154	1382  1E			 push  DS	     ;‚îÇ
    155	1383  06			 push  ES	     ;‚îò
    156
    157	1384  0E			 push  CS	     ;‚îê—É–∫–∞–∑–∞—Ç—å	DS –Ω–∞
    158	1385  1F			 pop   DS	     ;‚îò–Ω–∞—à—É –ø—Ä–æ–≥—Ä–∞–º–º—É
    159	1386  E4 60			 in AL,60h; –ø–æ–ª—É—á–∏—Ç—å —Å–∫–∞–Ω –∫–æ–¥ –Ω–∞–∂–∞—Ç–æ–π –∫–ª–∞–≤–∏—à–∏
    160	1388  3C 26			 cmp AL,26h; –ø—Ä–æ–≤–µ—Ä–∏—Ç—å	–Ω–∞ —Å–∫–∞–Ω-–∫–æ–¥ –∫–ª–∞–≤–∏—à–∏
    161	138A  75 0E			 jne Exit_09; <L> –∏ –≤—ã–π—Ç–∏, –µ—Å–ª–∏ –Ω–µ –æ–Ω
    162	138C  33 C0			 xor AX,AX   ;
    163	138E  8E C0			 mov   ES,AX ; –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–ª–∞–≥–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –Ω–∞
    164	1390  26: A0 0418		 mov   AL,ES:[418h]; –Ω–∞–∂–∞—Ç–∏–µ <Ctrl+Alt>
    165	1394  24 03			 and   AL,03h	   ;
    166	1396  3C 03			 cmp   AL,03h	   ;
    167	1398  74 03			 je    Cont	   ;
    168
    169	139A				Exit_09:
    170	139A  E9 00AA			  jmp	Exit09	      ;–≤—ã—Ö–æ–¥
    171
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 4
locker.asm



    172	139D				Cont:
    173	139D  FB			     sti		 ;—Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
    174	139E  B4 0F			     mov   AH,0Fh	 ;‚îê–ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π
    175	13A0  CD 10			       int   10h	 ;‚îò–≤–∏–¥–µ–æ—Ä–µ–∂–∏–º
    176	13A2  3C 02			   cmp	 AL,2	       ;‚îê
    177	13A4  74 0A			   je	 InText	       ;‚îÇ–ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ InText
    178	13A6  3C 03			   cmp	 AL,3	       ;‚îÇ–µ—Å–ª–∏ —Ä–µ–∂–∏–º
    179	13A8  74 06			   je	 InText	       ;‚îÇ—Ç–µ–∫—Å—Ç–æ–≤—ã–π 80#25
    180	13AA  3C 07			   cmp	 AL,7	       ;‚îÇ
    181	13AC  74 02			   je	 InText	       ;‚îò
    182
    183	13AE  EB 2D			   jmp	 short SwLoop1 ;–∏–Ω–∞—á–µ - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
    184
    185
    186	13B0			       InText:
    187	13B0  33 C0			 xor   AX,AX	     ;‚îê—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ–≥–º–µ–Ω—Ç–Ω—ã–π
    188	13B2  8E C0			 mov   ES,AX	     ;‚îò–∞–¥—Ä–µ—Å –≤ 0000h
    189
    190	13B4  26: A1 044E	       mov AX,ES:[44Eh]	 ;‚îê–ø–æ–ª—É—á–∏—Ç—å —Å–º–µ—â–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π
    191	13B8  2E: A3 1352r	       mov VideoOffs,AX	 ;‚îò—Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ VideoOffs
    192
    193	13BC  26: A1 044C	       mov AX,ES:[44Ch]	 ;‚îê—Å—Ä–∞–≤–Ω–∏—Ç—å –¥–ª–∏–Ω—É –≤–∏–¥–µ–æ–±—É—Ñ–µ—Ä–∞
    194	13C0  3D 1000		       cmp AX,1000h	 ;‚îÇ—Å	1000h.–ï—Å–ª–∏ –Ω–µ —Ä–∞–≤–Ω–æ,
    195	13C3  75 5D		       jne Exit009	 ;‚îÇ—Ç–æ —Ä–µ–∂–∏–º EGA Lines
    196							 ;‚îò(—ç–∫—Ä–∞–Ω —Ç—É—à–∏—Ç—å –Ω–µ –Ω–∞–¥–æ)
    197	13C5  B4 03		       mov   AH,03h	   ;‚îê–∏–Ω–∞—á–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
    198	13C7  CD 10		       int   10h	   ;‚îÇ—Ä–∞–∑–º–µ—Ä –∫—É—Ä—Å–æ—Ä–∞
    199	13C9  2E: 89 0E	1354r	       mov   CurSize,CX	   ;‚îò–≤ CurSize
    200
    201	13CE  B4 01		       mov   AH,01h	   ;‚îê
    202	13D0  B5 20		       mov   CH,20h	   ;‚îÇ–∏ –ø–æ–¥–∞–≤–∏—Ç—å –µ–≥–æ
    203	13D2  CD 10		       int   10h	   ;‚îò
    204
    205	13D4  2E: C6 06	010Br 01       mov OK_Text,01h;	—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–∑–Ω–∞–∫ –≥–∞—à–µ–Ω–∏—è
    206						      ;	—ç–∫—Ä–∞–Ω–∞
    207	13DA  E8 FF79		       call  VideoXcg  ;–∏ –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—É –≥–∞—à–µ–Ω–∏—è
    208
    209
    210	13DD				SwLoop1:
    211	13DD  E4 60			 in    AL,60h; –≤ AL - –∫–æ–¥ –Ω–∞–∂–∞—Ç–æ–π –∫–ª–∞–≤–∏—à–∏
    212	13DF  3C 1D			 cmp   AL,1Dh; ‚îê –µ—Å–ª–∏ –Ω–∞–∂–∞—Ç–∞ Ctrl -	—Ç–æ –Ω–∞
    213	13E1  74 0C			 je    SwLoop2;‚îò–ø—Ä–æ–≤–µ—Ä–∫—É –æ—Ç–ø—É—Å–∫–∞–Ω–∏—è
    214	13E3  3C 9D			 cmp   AL,9Dh; ‚îê–µ—Å–ª–∏ –±—ã–ª–∞ –æ—Ç–ø—É—â–µ–Ω–∞ Ctrl, —Ç–æ
    215	13E5  74 F6			 je    SwLoop1;‚îò–¥–∞–ª—å—à–µ –Ω–∞ –æ–ø—Ä–æ—Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
    216	13E7  2E: C6 06	010Cr 00	 mov   Sign,0 ;–∏–Ω–∞—á–µ —Å–±—Ä–æ—Å–∏—Ç—å –∫–æ–ª-–≤–æ –Ω–∞–∂–∞—Ç–∏–π
    217	13ED  EB EE			     jmp short SwLoop1;–∏ —Å–Ω–æ–≤–∞ –Ω–∞ –æ–ø—Ä–æ—Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
    218
    219
    220	13EF				SwLoop2:
    221	13EF  E4 60			      in  AL,60h; –≤ AL	- —Å–∫–∞–Ω –∫–æ–¥ –∫–ª–∞–≤–∏—à–∏
    222	13F1  3C 9D			  cmp AL,9Dh; ‚îê–µ—Å–ª–∏ –Ω–µ –∫–æ–¥ –æ—Ç–ø—É—Å–∫–∞–Ω–∏—è Ctrl, —Ç–æ
    223	13F3  75 FA			  jne SwLoop2;‚îò–æ–∂–∏–¥–∞—Ç—å	–æ—Ç–ø—É—Å–∫–∞–Ω–∏—è –∫–ª–∞–≤–∏—à–∏
    224	13F5  2E: FE 06	010Cr		  inc	Sign; —É–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª-–≤–æ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ Ctrl
    225	13FA  2E: 80 3E	010Cr 03	  cmp	Sign,3;	‚îê–µ—Å–ª–∏ –µ—â–µ –Ω–µ	–Ω–∞–∂–∞–ª–∏ 3 —Ä–∞–∑–∞, —Ç–æ
    226	1400  75 DB			  jne	SwLoop1;‚îò–ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –æ–ø—Ä–æ—Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
    227
    228	1402  2E: C6 06	010Cr 00	  mov Sign,0;—Å–±—Ä–æ—Å–∏—Ç—å –∫–æ–ª-–≤–æ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ Ctrl
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 5
locker.asm



    229	1408  2E: 80 3E	010Br 01	  cmp OK_Text,01h;‚îê–µ—Å–ª–∏ —ç–∫—Ä–∞–Ω –Ω–µ –±—ã–ª –≤—ã–∫–ª—é—á–µ–Ω,
    230	140E  75 12			  jne Exit009	 ;‚îò—Ç–æ –≤—ã—Ö–æ–¥
    231
    232	1410  E8 FF43			  call	VideoXcg  ;–∏–Ω–∞—á–µ –≤–∫–ª—é—á–∏—Ç—å —ç–∫—Ä–∞–Ω
    233	1413  B4 01			  mov	AH,01h	   ;‚îê
    234	1415  2E: 8B 0E	1354r		  mov	CX,CurSize; ‚îÇ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å	–∫—É—Ä—Å–æ—Ä
    235	141A  CD 10			  int	10h	   ;‚îò
    236	141C  2E: C6 06	010Br 00	mov OK_Text,0h;—Å–±—Ä–æ—Å–∏—Ç—å	–ø—Ä–∏–∑–Ω–∞–∫ –≥–∞—à–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞
    237
    238
    239	1422				Exit009:
    240	1422  33 C0			  xor  AX, AX	  ;‚îê
    241	1424  8E C0			  mov  ES, AX	  ;‚îÇ–æ—á–∏—Å—Ç–∏—Ç—å —Ñ–ª–∞–≥–∏ –Ω–∞–∂–∞—Ç–∏—è
    242	1426  26: A0 0417		  mov AL,ES:[417h];‚îÇ<Control+Alt> –ø–æ –∞–¥—Ä–µ—Å—É
    243	142A  24 F3			  and AL,11110011b;‚îÇ0000h:0417h –∏ —Ñ–ª–∞–≥–∏
    244	142C  26: A2 0417		  mov ES:[417h],AL;‚îÇ<LeftControl+LeftAlt>
    245	1430  26: A0 0418		  mov AL,ES:[418h];‚îÇ–ø–æ –∞–¥—Ä–µ—Å—É	0000h:0418h
    246	1434  24 FC			  and AL,11111100b;‚îÇ
    247	1436  26: A2 0418		  mov ES:[418h],AL;‚îò
    248
    249	143A  B0 20			  mov	AL,20h	      ;‚îê–æ–±—Å–ª—É–∂–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
    250	143C  E6 20			  out	20h,AL	      ;‚îò–ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π
    251
    252	143E  FA			  cli		      ;–∑–∞–ø—Ä–µ—Ç–∏—Ç—å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
    253	143F  07			  pop	ES	      ;‚îê
    254	1440  1F			  pop	DS	      ;‚îÇ
    255	1441  5E			  pop	SI	      ;‚îÇ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
    256	1442  5F			  pop	DI	      ;‚îÇ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ
    257	1443  59			  pop	CX	      ;‚îÇ—Ä–µ–≥–∏—Å—Ç—Ä—ã
    258	1444  5B			  pop	BX	      ;‚îÇ
    259	1445  58			  pop	AX	      ;‚îò
    260	1446  CF			  iret		      ;–≤—ã–π—Ç–∏ –∏–∑ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
    261
    262	1447				Exit09:
    263	1447  FA			  cli	       ;–∑–∞–ø—Ä–µ—Ç–∏—Ç—å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
    264	1448  07			  pop	ES	      ;‚îê
    265	1449  1F			  pop	DS	      ;‚îÇ
    266	144A  5E			  pop	SI	      ;‚îÇ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
    267	144B  5F			  pop	DI	      ;‚îÇ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ
    268	144C  59			  pop	CX	      ;‚îÇ—Ä–µ–≥–∏—Å—Ç—Ä—ã
    269	144D  5B			  pop	BX	      ;‚îÇ
    270	144E  58			  pop	AX	      ;‚îò
    271	144F  2E: FF 2E	0103r		jmp CS:OldInt09;–ø–µ—Ä–µ–¥–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
    272						       ;"–ø–æ —Ü–µ–ø–æ—á–∫–µ" —Å–ª–µ–¥—É—é—â–µ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É Int09h
    273
    274	1454			      Int09Hand	endp
    275
    276				      ;–û–ë–†–ê–ë–û–¢–ß–ò–ö –ü–†–ï–†–´–í–ê–ù–ò–Ø Int16h	(–í–ò–î–ï–û –§–£–ù–ö–¶–ò–ò
    277				      ;BIOS)
    278
    279	1454  3AFA			  dw TestInt16;	—Å–ª–æ–≤–æ –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞
    280
    281	1456			      Presense proc
    282	1456  80 FC EE			  cmp AH,FuncNum; –æ–±—Ä–∞—â–µ–Ω–∏–µ –æ—Ç –Ω–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã?
    283	1459  75 04			  jne Pass; –µ—Å–ª–∏ –Ω–µ—Ç —Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å
    284	145B  B8 2D0C			  mov AX,CodeOut; –∏–Ω–∞—á–µ –≤	AX —É—Å–ª–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥
    285	145E  CF			  iret		;–∏ –≤–æ–∑–≤—Ä–∞—Ç–∏—Ç—å—Å—è
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 6
locker.asm



    286
    287
    288	145F				Pass:
    289	145F  2E: FF 2E	0107r		  jmp	CS:OldInt16   ;–ø–µ—Ä–µ–¥–∞—Ç—å	—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
    290								  ;"–ø–æ —Ü–µ–ø–æ—á–∫–µ"
    291								  ;—Å–ª–µ–¥—É—é—â–µ–º—É	–æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É Int16h
    292	1464			      Presense endp
    293
    294
    295				      ;‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë	–ù –ï –† –ï –ó –ò –î –ï	–ù –¢ –ù –´ –ï	 –î –ê –ù –ù –´	–ï	    +
    296				     ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë
    297
    298	1464  ??		      ResEnd	  db	?    ;–±–∞–π—Ç –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–∏—è –≥—Ä–∞–Ω–∏—Ü—ã —Ä–µ-
    299							     ;–∑–∏–¥–µ—Ç–Ω–æ–π —á–∞—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã
    300	      =0001		      On	  equ	1    ;–∑–Ω–∞—á–µ–Ω–∏–µ "—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ"	–¥–ª—è	—Ñ–ª–∞–≥–æ–≤
    301	      =0000		      Off	  equ	0    ;–∑–Ω–∞—á–µ–Ω–∏–µ "—Å–±—Ä–æ—à–µ–Ω–æ" –¥–ª—è —Ñ–ª–∞–≥–æ–≤
    302	      =0007		      Bell	  equ	7    ;–∫–æ–¥ —Å–∏–º–≤–æ–ª  BELL
    303	      =000D		      CR	  equ	13   ;–∫–æ–¥ —Å–∏–º–≤–æ–ª  CR
    304	      =000A		      LF	  equ	10   ;–∫–æ–¥ —Å–∏–º–≤–æ–ª  LF
    305	      =0002		      MinDosVer	  equ	2    ;–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–∞—è	–≤–µ—Ä—Å–∏—è DOS
    306
    307	1465  ??		      InstFlag	  db	?    ;—Ñ–ª–∞–≥ –Ω–∞–ª–∏—á–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –ø–∞–º—è—Ç–∏
    308	1466  ????		      SaveCS	  dw	?    ;—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π CS	—Ä–µ–∑–∏–¥–µ—Ç–æ–π –ø—Ä–æ–≥-
    309							     ;—Ä–∞–º–º—ã
    310
    311	1468  0D 0A E2 96 91 E2	96+   Copyright	  db CR,LF,'‚ñë‚ñëL O C	K E R‚ñë‚ñë demonstration pro'
    312	      91 4C 20 4F 20 43	20+
    313	      4B 20 45 20 52 E2	96+
    314	      91 E2 96 91 20 64	65+
    315	      6D 6F 6E 73 74 72	61+
    316	      74 69 6F 6E 20 70	72+
    317	      6F
    318	1493  67 72 61 6D 0D 0A	0A+		  db 'gram',CR,LF,LF,'$'
    319	      24
    320	149B  45 72 72 6F 72 3A	20+   VerDosMsg	  db 'Error: incorrect DOS version'
    321	      69 6E 63 6F 72 72	65+
    322	      63 74 20 44 4F 53	20+
    323	      76 65 72 73 69 6F	6E
    324	14B7  07 0D 0A 24			  db Bell,CR,LF,'$'
    325	14BB  54 68 65 20 4C 4F	43+   InstMsg	  db 'The LOCKER program is installed. To withdraw'
    326	      4B 45 52 20 70 72	6F+
    327	      67 72 61 6D 20 69	73+
    328	      20 69 6E 73 74 61	6C+
    329	      6C 65 64 2E 20 54	6F+
    330	      20 77 69 74 68 64	72+
    331	      61 77
    332	14E7  75 73 65 20 6B 65	79+		  db 'use key /u',CR,LF
    333	      20 2F 75 0D 0A
    334	14F3  54 6F 20 22 6C 6F	63+		  db 'To "lock", press <Ctrl+Alt+L>',CR,LF
    335	      6B 22 2C 20 70 72	65+
    336	      73 73 20 3C 43 74	72+
    337	      6C 2B 41 6C 74 2B	4C+
    338	      3E 0D 0A
    339	1512  54 6F 20 22 75 6E	6C+		  db 'To "unlock", press <Ctrl>	three times'
    340	      6F 63 6B 22 2C 20	70+
    341	      72 65 73 73 20 3C	43+
    342	      74 72 6C 3E 20 74	68+
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 7
locker.asm



    343	      72 65 65 20 74 69	6D+
    344	      65 73
    345	1537  0D 0A 24				  db CR,LF,'$'
    346	153A  45 72 72 6F 72 3A	20+   AlreadyMsg  db 'Error: LOCKER is already resident	in memory'
    347	      4C 4F 43 4B 45 52	20+
    348	      69 73 20 61 6C 72	65+
    349	      61 64 79 20 72 65	73+
    350	      69 64 65 6E 74 20	69+
    351	      6E 20 6D 65 6D 6F	72+
    352	      79
    353	1565  07 0D 0A 24			  db Bell,CR,LF,'$'
    354	1569  54 68 65 20 4C 4F	43+   UninstMsg	  db 'The LOCKER program has been removed from the resident'
    355	      4B 45 52 20 70 72	6F+
    356	      67 72 61 6D 20 68	61+
    357	      73 20 62 65 65 6E	20+
    358	      72 65 6D 6F 76 65	64+
    359	      20 66 72 6F 6D 20	74+
    360	      68 65 20 72 65 73	69+
    361	      64 65 6E 74
    362	159E  0D 0A 24				  db CR,LF,'$'
    363	15A1  45 72 72 6F 72 3A	20+   NotInstMsg  db 'Error: The LOCKER	program	is already installed'
    364	      54 68 65 20 4C 4F	43+
    365	      4B 45 52 20 70 72	6F+
    366	      67 72 61 6D 20 69	73+
    367	      20 61 6C 72 65 61	64+
    368	      79 20 69 6E 73 74	61+
    369	      6C 6C 65 64
    370	15CF  07 0D 0A 24			  db Bell,CR,LF,'$'
    371	15D3  45 72 72 6F 72 3A	20+   NotSafeMsg  db 'Error: remove the	LOCKER program from the	resident'
    372	      72 65 6D 6F 76 65	20+
    373	      74 68 65 20 4C 4F	43+
    374	      4B 45 52 20 70 72	6F+
    375	      67 72 61 6D 20 66	72+
    376	      6F 6D 20 74 68 65	20+
    377	      72 65 73 69 64 65	6E+
    378	      74
    379	1605  61 74 20 74 68 65	20+		  db 'at the moment',CR,LF,'impossible because of'
    380	      6D 6F 6D 65 6E 74	0D+
    381	      0A 69 6D 70 6F 73	73+
    382	      69 62 6C 65 20 62	65+
    383	      63 61 75 73 65 20	6F+
    384	      66
    385	1629  69 6E 74 65 72 63	65+		  db 'interception of some vectors',Bell,CR,LF,'$'
    386	      70 74 69 6F 6E 20	6F+
    387	      66 20 73 6F 6D 65	20+
    388	      76 65 63 74 6F 72	73+
    389	      07 0D 0A 24
    390
    391
    392				     ;‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë –ù –ï –† –ï –ó	–ò –î –ï –ù –¢ –ù –´ –ï	  –ü –†	–û –¶ –ï –î –£ –† –´	    +
    393				     ‚ñë‚ñë‚ñë‚ñë‚ñë
    394
    395				     ;–í–ö–õ–Æ–ß–ê–ï–ú–´–ô –§–ê–ô–õ –î–õ–Ø –í–´–ü–û–õ–ù–ï–ù–ò–Ø	–ü–†–û–¶–ï–î–£–†–´ –í–´–í–û–î–ê	    +
    396				     –ò–ù–§–û–†–ú–ê–¶–ò–ò
    397
    398	      =0000		      Locker	  equ	0      ;–∏–º—è –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –øp–æ–≥p–∞–º–º—ã
    399							       ;–≤–æ –≤–∫–ª—é—á–∞–µ–º–æ–º —Ñ–∞–π–ª–µ
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 8
locker.asm



    400				      include	  INFO.INC     ;–≤–∫–ª—é—á–∞–µ–º—ã–π —Ñ–∞–π–ª —Å –ø—Ä–æ—Ü–µ–¥—É—Ä–æ–π –≤—ã-
1   401
1   402	      =0001		      @TopRow	  equ	1
1   403	      =0003		      @LeftCol	  equ	3
1   404	      =0016		      @BotRow	  equ	22
1   405	      =004C		      @RightCol	  equ	76
1   406	1649  ????		      @MsgAddres  dw	?
1   407	164B  01		      @VGAFlag	  db	1
1   408	164C  B800		      @ScrBufSeg  dw	0B800h
1   409	164E  ????		      @PageOfs	  dw	?
1   410	1650  ??		      @SaveRegime db	?
1   411	1651  0250*(1C)	94*(00)	      @Attr1	  db	74*8 dup(1Ch),74*2 dup(0)
1   412	1935  03C2*(1E)		      @Attr2	  db	74*13 dup(1Eh)
1   413	1CF7  0300*(??)		      @PelRegMas  db	300h dup(?)
1   414
1   415
1   416
1   417	1FF7  20 DA C4 C4 C4 C4	C4+   @LockerInfo db	' ⁄ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒø '
    418	      C4 C4 C4 C4 C4 C4	C4+
    419	      C4 C4 C4 C4 C4 C4	C4+
    420	      C4 C4 C4 C4 C4 C4	C4+
    421	      C4 C4 C4 C4 C4 C4	C4+
    422	      C4 C4 C4 C4 C4 C4	C4+
    423	      C4 C4 C4 C4 C4 C4	C4+
    424	      C4 C4 C4 C4 C4 C4	C4+
    425	      C4 C4 C4 C4 C4 C4	C4+
    426	      C4 C4 C4 C4 C4 C4	C4+
    427	      C4 C4 BF 20
1   428	2041  20 B3 20 20 20 20	20+		  db	' ≥									 ≥ '
    429	      20 20 20 20 20 20	20+
    430	      20 20 20 20 20 20	20+
    431	      20 20 20 20 20 20	20+
    432	      20 20 20 20 20 20	20+
    433	      20 20 20 20 20 20	20+
    434	      20 20 20 20 20 20	20+
    435	      20 20 20 20 20 20	20+
    436	      20 20 20 20 20 20	20+
    437	      20 20 20 20 20 20	20+
    438	      20 20 B3 20
1   439	208B  20 B3 20 20 20 20	20+		  db	' ≥		  €	 ‹ﬂﬂﬂ‹	‹ﬂﬂﬂ‹  €  ‹ﬂ   €ﬂﬂﬂﬂ  €ﬂﬂﬂ‹		 ≥ '
    440	      20 20 20 20 20 20	20+
    441	      20 20 20 DB 20 20	20+
    442	      20 20 20 DC DF DF	DF+
    443	      DC 20 20 DC DF DF	DF+
    444	      DC 20 20 DB 20 20	DC+
    445	      DF 20 20 20 DB DF	DF+
    446	      DF DF 20 20 DB DF	DF+
    447	      DF DC 20 20 20 20	20+
    448	      20 20 20 20 20 20	20+
    449	      20 20 B3 20
1   450	20D5  20 B3 20 20 20 20	20+		  db	' ≥		  €	 €   €	€      €‹ﬂ     €‹‹‹   €	  €		 ≥ '
    451	      20 20 20 20 20 20	20+
    452	      20 20 20 DB 20 20	20+
    453	      20 20 20 DB 20 20	20+
    454	      DB 20 20 DB 20 20	20+
    455	      20 20 20 DB DC DF	20+
    456	      20 20 20 20 DB DC	DC+
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 9
locker.asm



    457	      DC 20 20 20 DB 20	20+
    458	      20 DB 20 20 20 20	20+
    459	      20 20 20 20 20 20	20+
    460	      20 20 B3 20
1   461	211F  20 B3 20 20 20 20	20+		  db	' ≥		  €	 €   €	€      € ﬂ‹    €      €ﬂ€ﬂ		 ≥ '
    462	      20 20 20 20 20 20	20+
    463	      20 20 20 DB 20 20	20+
    464	      20 20 20 DB 20 20	20+
    465	      DB 20 20 DB 20 20	20+
    466	      20 20 20 DB 20 DF	DC+
    467	      20 20 20 20 DB 20	20+
    468	      20 20 20 20 DB DF	DB+
    469	      DF 20 20 20 20 20	20+
    470	      20 20 20 20 20 20	20+
    471	      20 20 B3 20
1   472	2169  20 B3 20 20 20 20	20+		  db	' ≥		  €‹‹‹‹	 ﬂ‹‹‹ﬂ	ﬂ‹‹‹ﬂ  €   ﬂ‹  €‹‹‹‹  €	 ﬂ‹		 ≥ '
    473	      20 20 20 20 20 20	20+
    474	      20 20 20 DB DC DC	DC+
    475	      DC 20 20 DF DC DC	DC+
    476	      DF 20 20 DF DC DC	DC+
    477	      DF 20 20 DB 20 20	20+
    478	      DF DC 20 20 DB DC	DC+
    479	      DC DC 20 20 DB 20	20+
    480	      DF DC 20 20 20 20	20+
    481	      20 20 20 20 20 20	20+
    482	      20 20 B3 20
1   483	21B3  20 B3 20 20 20 20	20+		  db	' ≥									 ≥ '
    484	      20 20 20 20 20 20	20+
    485	      20 20 20 20 20 20	20+
    486	      20 20 20 20 20 20	20+
    487	      20 20 20 20 20 20	20+
    488	      20 20 20 20 20 20	20+
    489	      20 20 20 20 20 20	20+
    490	      20 20 20 20 20 20	20+
    491	      20 20 20 20 20 20	20+
    492	      20 20 20 20 20 20	20+
    493	      20 20 B3 20
1   494	21FD  20 C0 C4 C4 C4 C4	C4+		  db	' ¿ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒŸ '
    495	      C4 C4 C4 C4 C4 C4	C4+
    496	      C4 C4 C4 C4 C4 C4	C4+
    497	      C4 C4 C4 C4 C4 C4	C4+
    498	      C4 C4 C4 C4 C4 C4	C4+
    499	      C4 C4 C4 C4 C4 C4	C4+
    500	      C4 C4 C4 C4 C4 C4	C4+
    501	      C4 C4 C4 C4 C4 C4	C4+
    502	      C4 C4 C4 C4 C4 C4	C4+
    503	      C4 C4 C4 C4 C4 C4	C4+
    504	      C4 C4 D9 20
1   505	2247  20 20 20 20 20 20	20+		  db	'									   '
    506	      20 20 20 20 20 20	20+
    507	      20 20 20 20 20 20	20+
    508	      20 20 20 20 20 20	20+
    509	      20 20 20 20 20 20	20+
    510	      20 20 20 20 20 20	20+
    511	      20 20 20 20 20 20	20+
    512	      20 20 20 20 20 20	20+
    513	      20 20 20 20 20 20	20+
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 10
locker.asm



    514	      20 20 20 20 20 20	20+
    515	      20 20 20 20
1   516	2291  20 20 20 20 20 20	20+		  db	'									   '
    517	      20 20 20 20 20 20	20+
    518	      20 20 20 20 20 20	20+
    519	      20 20 20 20 20 20	20+
    520	      20 20 20 20 20 20	20+
    521	      20 20 20 20 20 20	20+
    522	      20 20 20 20 20 20	20+
    523	      20 20 20 20 20 20	20+
    524	      20 20 20 20 20 20	20+
    525	      20 20 20 20 20 20	20+
    526	      20 20 20 20
1   527	22DB  20 C9 CD CD CD CD	CD+		  db	' …ÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕª '
    528	      CD CD CD CD CD CD	CD+
    529	      CD CD CD CD CD CD	CD+
    530	      CD CD CD CD CD CD	CD+
    531	      CD CD CD CD CD CD	CD+
    532	      CD CD CD CD CD CD	CD+
    533	      CD CD CD CD CD CD	CD+
    534	      CD CD CD CD CD CD	CD+
    535	      CD CD CD CD CD CD	CD+
    536	      CD CD CD CD CD CD	CD+
    537	      CD CD BB 20
1   538	2325  20 BA 20 20 4C 4F	43+		  db	' ∫  LOCKER - Ì‚Æ §•¨Æ≠·‚‡†Ê®Æ≠≠†Ô Ø‡Æ£‡†¨¨† ØÆ	®·ØÆ´ÏßÆ¢†≠®Ó ·®·‚•¨≠ÎÂ	 ∫ '
    539	      4B 45 52 20 2D 20	ED+
    540	      E2 AE 20 A4 A5 AC	AE+
    541	      AD E1 E2 E0 A0 E6	A8+
    542	      AE AD AD A0 EF 20	AF+
    543	      E0 AE A3 E0 A0 AC	AC+
    544	      A0 20 AF AE 20 A8	E1+
    545	      AF AE AB EC A7 AE	A2+
    546	      A0 AD A8 EE 20 E1	A8+
    547	      E1 E2 A5 AC AD EB	E5+
    548	      20 20 BA 20
1   549	236F  20 BA 20 20 E1 E0	A5+		  db	' ∫  ·‡•§·‚¢ MS	DOS ® BIOS  §´Ô	IBM-·Æ¢¨•·‚®¨ÎÂ	™Æ¨ØÏÓ‚•‡Æ¢. LOCKER ØÆ-	 ∫ '
    550	      A4 E1 E2 A2 20 4D	53+
    551	      20 44 4F 53 20 A8	20+
    552	      42 49 4F 53 20 20	A4+
    553	      AB EF 20 49 42 4D	2D+
    554	      E1 AE A2 AC A5 E1	E2+
    555	      A8 AC EB E5 20 AA	AE+
    556	      AC AF EC EE E2 A5	E0+
    557	      AE A2 2E 20 4C 4F	43+
    558	      4B 45 52 20 AF AE	2D+
    559	      20 20 BA 20
1   560	23B9  20 BA 20 20 A7 A2	AE+		  db	' ∫  ß¢Æ´Ô•‚ "ß†Ø®‡†‚Ï"	™´†¢®†‚„‡„ ≠† ¢‡•¨Ô  ¢†Ë•£Æ Æ‚·„‚·‚¢®Ô,	•·´® ¢Î	 ∫ '
    561	      AB EF A5 E2 20 22	A7+
    562	      A0 AF A8 E0 A0 E2	EC+
    563	      22 20 AA AB A0 A2	A8+
    564	      A0 E2 E3 E0 E3 20	AD+
    565	      A0 20 A2 E0 A5 AC	EF+
    566	      20 20 A2 A0 E8 A5	A3+
    567	      AE 20 AE E2 E1 E3	E2+
    568	      E1 E2 A2 A8 EF 2C	20+
    569	      A5 E1 AB A8 20 A2	EB+
    570	      20 20 BA 20
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 11
locker.asm



1   571	2403  20 BA 20 20 E5 AE	E2+		  db	' ∫  ÂÆ‚®‚• Á‚Æ-‚Æ ·™‡Î‚Ï Æ‚ ØÆ·‚Æ‡Æ≠≠®Â £´†ß ®´® ≠•¶•´†‚•´Ï≠Æ£Æ ¢¨•Ë†-	 ∫ '
    572	      A8 E2 A5 20 E7 E2	AE+
    573	      2D E2 AE 20 E1 AA	E0+
    574	      EB E2 EC 20 AE E2	20+
    575	      AF AE E1 E2 AE E0	AE+
    576	      AD AD A8 E5 20 A3	AB+
    577	      A0 A7 20 A8 AB A8	20+
    578	      AD A5 A6 A5 AB A0	E2+
    579	      A5 AB EC AD AE A3	AE+
    580	      20 A2 AC A5 E8 A0	2D+
    581	      20 20 BA 20
1   582	244D  20 BA 20 20 E2 A5	AB+		  db	' ∫  ‚•´Ï·‚¢†. è‡® ß†Ø„·™• ®·ØÆ´Ïß„Ó‚·Ô	·´•§„ÓÈ®• ™´ÓÁ®:		 ∫ '
    583	      EC E1 E2 A2 A0 2E	20+
    584	      8F E0 A8 20 A7 A0	AF+
    585	      E3 E1 AA A5 20 A8	E1+
    586	      AF AE AB EC A7 E3	EE+
    587	      E2 E1 EF 20 E1 AB	A5+
    588	      A4 E3 EE E9 A8 A5	20+
    589	      AA AB EE E7 A8 3A	20+
    590	      20 20 20 20 20 20	20+
    591	      20 20 20 20 20 20	20+
    592	      20 20 BA 20
1   593	2497  20 BA 20 20 20 20	20+		  db	' ∫	/i - „·‚†≠Æ¢®‚Ï	Ø‡Æ£‡†¨¨„ ¢ ‡•ß®§•≠‚;				 ∫ '
    594	      2F 69 20 2D 20 E3	E1+
    595	      E2 A0 AD AE A2 A8	E2+
    596	      EC 20 AF E0 AE A3	E0+
    597	      A0 AC AC E3 20 A2	20+
    598	      E0 A5 A7 A8 A4 A5	AD+
    599	      E2 3B 20 20 20 20	20+
    600	      20 20 20 20 20 20	20+
    601	      20 20 20 20 20 20	20+
    602	      20 20 20 20 20 20	20+
    603	      20 20 BA 20
1   604	24E1  20 BA 20 20 20 20	20+		  db	' ∫	/u - ·≠Ô‚Ï Ø‡Æ£‡†¨¨„ · ‡•ß®§•≠‚†.				 ∫ '
    605	      2F 75 20 2D 20 E1	AD+
    606	      EF E2 EC 20 AF E0	AE+
    607	      A3 E0 A0 AC AC E3	20+
    608	      E1 20 E0 A5 A7 A8	A4+
    609	      A5 AD E2 A0 2E 20	20+
    610	      20 20 20 20 20 20	20+
    611	      20 20 20 20 20 20	20+
    612	      20 20 20 20 20 20	20+
    613	      20 20 20 20 20 20	20+
    614	      20 20 BA 20
1   615	252B  20 BA 20 20 8A AB	A0+		  db	' ∫  ä´†¢®†‚„‡†	 "ß†Ø®‡†•‚·Ô"  ≠†¶†‚®•¨	<Cntrl+Alt+L> ,	†  "Æ‚Ø®‡†•‚·Ô"	 ∫ '
    616	      A2 A8 A0 E2 E3 E0	A0+
    617	      20 20 22 A7 A0 AF	A8+
    618	      E0 A0 A5 E2 E1 EF	22+
    619	      20 20 AD A0 A6 A0	E2+
    620	      A8 A5 AC 20 3C 43	6E+
    621	      74 72 6C 2B 41 6C	74+
    622	      2B 4C 3E 20 2C 20	A0+
    623	      20 20 22 AE E2 AF	A8+
    624	      E0 A0 A5 E2 E1 EF	22+
    625	      20 20 BA 20
1   626	2575  20 BA 20 20 E2 E0	A5+		  db	' ∫  ‚‡•Â™‡†‚≠Î¨ ≠†¶†‚®•¨ ≠† <Cntrl>  (‚„™-‚„™-‚„™). ãÓ°Æ©  §‡„£Æ© ™´ÓÁ	 ∫ '
    627	      E5 AA E0 A0 E2 AD	EB+
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 12
locker.asm



    628	      AC 20 AD A0 A6 A0	E2+
    629	      A8 A5 AC 20 AD A0	20+
    630	      3C 43 6E 74 72 6C	3E+
    631	      20 20 28 E2 E3 AA	2D+
    632	      E2 E3 AA 2D E2 E3	AA+
    633	      29 2E 20 8B EE A1	AE+
    634	      A9 20 20 A4 E0 E3	A3+
    635	      AE A9 20 AA AB EE	E7+
    636	      20 20 BA 20
1   637	25BF  20 BA 20 20 A8 AB	A8+		  db	' ∫  ®´® •£Æ Æ‚·„‚·‚¢®•	¢ÎßÆ¢„‚	ØÆÔ¢´•≠®• §†≠≠Æ© ®≠‰Æ‡¨†Ê®®.		 ∫ '
    638	      20 A5 A3 AE 20 AE	E2+
    639	      E1 E3 E2 E1 E2 A2	A8+
    640	      A5 20 A2 EB A7 AE	A2+
    641	      E3 E2 20 AF AE EF	A2+
    642	      AB A5 AD A8 A5 20	A4+
    643	      A0 AD AD AE A9 20	A8+
    644	      AD E4 AE E0 AC A0	E6+
    645	      A8 A8 2E 20 20 20	20+
    646	      20 20 20 20 20 20	20+
    647	      20 20 BA 20
1   648	2609  20 C8 CD CD CD CD	CD+		  db	' »ÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕÕº '
    649	      CD CD CD CD CD CD	CD+
    650	      CD CD CD CD CD CD	CD+
    651	      CD CD CD CD CD CD	CD+
    652	      CD CD CD CD CD CD	CD+
    653	      CD CD CD CD CD CD	CD+
    654	      CD CD CD CD CD CD	CD+
    655	      CD CD CD CD CD CD	CD+
    656	      CD CD CD CD CD CD	CD+
    657	      CD CD CD CD CD CD	CD+
    658	      CD CD BC 20
1   659
1   660
1   661
1   662	2653			      @WriteInfo  proc
1   663	2653  06				  push	ES
1   664
1   665
1   666
1   667	2654  BD 1FF7r				   lea	 BP,@LockerInfo
1   668
1   669
1   670
1   671	2657  BE 1651r				  lea	SI,@Attr1
1   672	265A  2E: A1 164Cr			  mov	AX,@ScrBufSeg
1   673	265E  8E C0				  mov	ES,AX
1   674	2660  B6 01				  mov	DH,@TopRow
1   675	2662  B0 A0				  mov	AL,160
1   676	2664  F6 E6				  mul	DH
1   677	2666  8B F8				  mov	DI,AX
1   678	2668  B2 03			 @L1Draw: mov	DL,@LeftCol
1   679	266A  32 FF				  xor	BH,BH
1   680	266C  8A DA				  mov	BL,DL
1   681	266E  D1 E3				  shl	BX,1
1   682	2670  2E: 03 1E	164Er			  add	BX,@PageOfs
1   683	2675  8A 24			 @L2Draw: mov	AH,DS:[SI]
1   684	2677  46				  inc	SI
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 13
locker.asm



1   685	2678  3E: 8A 46	00			  mov	AL,DS:[BP]
1   686	267C  45				  inc	BP
1   687	267D  26: 89 01				  mov	ES:[BX+DI],AX
1   688	2680  43				  inc	BX
1   689	2681  43				  inc	BX
1   690	2682  FE C2				  inc	DL
1   691	2684  80 FA 4C				  cmp	DL,@RightCol
1   692	2687  76 EC				  jbe	@L2Draw
1   693	2689  81 C7 00A0			  add	DI,160
1   694	268D  FE C6				  inc	DH
1   695	268F  80 FE 16				  cmp	DH,@BotRow
1   696	2692  76 D4				  jbe	@L1Draw
1   697	2694  07				  pop	ES
1   698	2695  C3				  ret
1   699	2696			      @WriteInfo  endp
1   700
1   701	2696			      @TestVideo  proc
1   702	2696  B4 0F				  mov	AH,0Fh
1   703	2698  CD 10				  int	10h
1   704	269A  2E: A2 1650r			  mov	@SaveRegime,AL
1   705	269E  3C 07				  cmp	AL,07h
1   706	26A0  B0 02				  mov	AL,02h
1   707	26A2  75 1B				  jne	@NotMDA
1   708
1   709	26A4  2E: C7 06	164Cr B000		  mov	@ScrBufSeg,0B000h
1   710	26AB  B0 70				  mov	AL,70h
1   711	26AD  B9 0250				  mov	CX,74*8
1   712	26B0  BF 1651r				  lea	DI,@Attr1
1   713	26B3  F3> AA				  rep	stosb
1   714	26B5  B0 07				  mov	AL,07h
1   715	26B7  B9 03C2				  mov	CX,74*13
1   716	26BA  BF 1935r				  lea	DI,@Attr2
1   717	26BD  F3> AA				  rep	stosb
1   718
1   719	26BF  32 E4			@NotMDA:  xor	AH,AH
1   720	26C1  CD 10				  int	10h
1   721	26C3  B5 20				  mov	CH,20h
1   722	26C5  B4 01				  mov	AH,1
1   723	26C7  CD 10				  int	10h
1   724
1   725	26C9  06				  push	ES
1   726	26CA  33 C0				  xor	AX,AX
1   727	26CC  8E C0				  mov	ES,AX
1   728	26CE  26: A1 044E			  mov	AX,ES:[44Eh]
1   729	26D2  2E: A3 164Er			  mov	@PageOfs,AX
1   730	26D6  07				  pop	ES
1   731
1   732	26D7  B8 1A00				  mov	AX,1A00h
1   733	26DA  CD 10				  int	10h
1   734	26DC  3C 1A				  cmp	AL,1Ah
1   735	26DE  74 05				  je	@EndTst
1   736	26E0  2E: FE 0E	164Br			  dec	@VGAFlag
1   737
1   738	26E5  C3			@EndTst:  ret
1   739	26E6			      @TestVideo  endp
1   740
1   741	26E6			      @ReadPelReg proc
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 14
locker.asm



1   742	26E6  BA 03C7				  mov	DX,3C7h
1   743	26E9  32 C0				  xor	AL,AL
1   744	26EB  FA				  cli
1   745	26EC  EE				  out	DX,AL
1   746
1   747	26ED  B9 0300				  mov	CX,300h
1   748	26F0  BA 03C9				  mov	DX,3C9h
1   749
1   750	26F3  EC			@NextPelR:in	AL,DX
1   751	26F4  24 3F				  and	AL,3Fh
1   752	26F6  AA				  stosb
1   753	26F7  E2 FA				  loop	@NextPelR
1   754
1   755	26F9  FB				  sti
1   756	26FA  C3				  ret
1   757	26FB			      @ReadPelReg endp
1   758
1   759	26FB			      @WritePelReg proc
1   760	26FB  BA 03C8				  mov	DX,3C8h
1   761	26FE  32 C0				  xor	AL,AL
1   762	2700  FA				  cli
1   763	2701  EE				  out	DX,AL
1   764
1   765	2702  BA 03DA			 @Vert:	  mov	DX,3DAh
1   766	2705  EC				  in	AL,DX
1   767	2706  24 08				  and	AL,08h
1   768	2708  74 F8				  jz	@Vert
1   769
1   770	270A  B9 0300				  mov	CX,300h
1   771	270D  BA 03C9				  mov	DX,3C9h
1   772
1   773	2710  AC			@NextPelW:lodsb
1   774	2711  0A C0				  or	AL,AL
1   775	2713  74 10				  jz	@OutPel
1   776	2715  02 C4				  add	AL,AH
1   777	2717  3C 00				  cmp	AL,0
1   778	2719  7F 04				  jg	@MaxPel
1   779	271B  B0 00				  mov	AL,0
1   780	271D  EB 06				  jmp	short @OutPel
1   781
1   782	271F  3C 3F			@MaxPel:  cmp	AL,3Fh
1   783	2721  76 02				  jbe	@OutPel
1   784	2723  B0 3F				  mov	AL,3Fh
1   785
1   786	2725  EE			@OutPel:  out	DX,AL
1   787	2726  E2 E8				  loop	@NextPelW
1   788
1   789	2728  FB				  sti
1   790	2729  C3				  ret
1   791	272A			      @WritePelReg endp
1   792
1   793	272A			      @BeepSound  proc
1   794	272A  B9 005A				  mov	  CX,90
1   795	272D  BA 0258				  mov	  DX,600
1   796	2730  BB 0258				  mov	  BX,600
1   797
1   798	2733  E4 61				  in	  AL,61h
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 15
locker.asm



1   799	2735  24 FE				  and	  AL,0FEh
1   800
1   801	2737  51			 @L1Beep: push	  CX
1   802	2738  0C 02				  or	  AL,02h
1   803	273A  E6 61				  out	  61h,AL
1   804
1   805	273C  8B CA				  mov	  CX,DX
1   806	273E  E2 FE			 @L2Beep: loop	  @L2Beep
1   807	2740  83 EA 05				  sub	  DX,5
1   808
1   809	2743  24 FD				  and	  AL,0FDh
1   810	2745  E6 61				  out	  61h,AL
1   811
1   812	2747  8B CB				  mov	  CX,BX
1   813	2749  E2 FE			 @L3Beep: loop	  @L3Beep
1   814	274B  83 C3 05				  add	  BX,5
1   815
1   816	274E  59				  pop	  CX
1   817	274F  E2 E6				  loop	  @L1Beep
1   818
1   819	2751  C3				  ret
1   820	2752			      @BeepSound  endp
1   821
1   822	2752			      @InfoAbout  proc
1   823	2752  FC				  cld
1   824	2753  2E: 89 16	1649r			  mov	@MsgAddres,DX
1   825	2758  E8 FF3B				  call	@TestVideo
1   826	275B  2E: 80 3E	164Br 01		  cmp	@VGAFlag,1
1   827	2761  75 0E				  jne	@NotVGA
1   828
1   829	2763  BF 1CF7r				  lea	DI,@PelRegMas
1   830	2766  E8 FF7D				  call	@ReadPelReg
1   831	2769  B4 C4				  mov	AH,-60
1   832	276B  BE 1CF7r				  lea	SI,@PelRegMas
1   833	276E  E8 FF8A				  call	@WritePelReg
1   834
1   835	2771  E8 FEDF			 @NotVGA: call	@WriteInfo
1   836	2774  2E: 80 3E	164Br 01		  cmp	@VGAFlag,1
1   837	277A  75 14				  jne	@Key
1   838
1   839	277C  B4 C4				  mov	AH,-60
1   840
1   841	277E  FE C4			 @Next:	  inc	AH
1   842	2780  BE 1CF7r				  lea	SI,@PelRegMas
1   843	2783  E8 FF75				  call	@WritePelReg
1   844
1   845	2786  B9 61A8				  mov	CX,25000
1   846	2789  E2 FE			 @Pausa:  loop	@Pausa
1   847
1   848	278B  80 FC 00				  cmp	AH,0
1   849	278E  75 EE				  jne	@Next
1   850
1   851	2790  E8 FF97			 @Key:	  call	@BeepSound
1   852	2793  B4 08				  mov	AH,08h
1   853	2795  CD 21				  int	21h
1   854
1   855	2797  32 E4				  xor	AH,AH
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 16
locker.asm



1   856	2799  2E: A0 1650r			  mov	AL,@SaveRegime
1   857	279D  CD 10				  int	10h
1   858	279F  C3				  ret
1   859	27A0			      @InfoAbout  endp
1   860
    861							       ;–≤–æ–¥–∞ –∏—Ñ–æ—Ä–º–∞—Ü–∏–∏
    862
    863				     ;–ì–õ–ê–í–ù–ê–Ø –ü–†–û–¶–ï–î–£–†–ê	–ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–ò
    864
    865	27A0			      InitProc proc
    866	27A0  B4 09			  mov	AH,09h		;‚îê
    867	27A2  BA 1468r			  lea	DX,Copyright	;‚îÇ–≤—ã–≤–µ—Å—Ç–∏  –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    868	27A5  CD 21			  int	21h		;‚îò
    869
    870	27A7  BA 149Br			  lea	DX,VerDosMsg	;‚îê–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é DOS	–∏ –≤—ã-
    871	27AA  E8 007F			  call	ChkDosVer	;‚îÇ–≤–µ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ,–µ—Å–ª–∏ –Ω–µ–ø–æ–¥-
    872	27AD  72 73			  jc	Output		;‚îò—Ö–æ–¥—è—â–∞—è
    873
    874	27AF  E8 0085			  call	PresentTest	;–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –≤ –ø–∞–º—è—Ç–∏
    875
    876	27B2  8A 1E 005D		  mov	BL,DS:[5Dh]	;‚îê
    877	27B6  80 E3 DF			  and	BL,11011111b	;‚îÇ
    878	27B9  80 FB 49			  cmp	BL,'I'		;‚îÇ—Ä–∞–∑–æ–±—Ä–∞—Ç—å –∫–ª—é—á	(–∑–∞–Ω–æ—Å–∏—Ç—Å—è
    879	27BC  74 0A			  je	Install		;‚îÇ–≤ –æ–±–ª–∞—Å—Ç—å FCB1 PSP)
    880	27BE  80 FB 55			  cmp	BL,'U'		;‚îÇ
    881	27C1  74 3D			  je	Uninst		;‚îò
    882
    883	27C3  E8 FF8C			  call	@InfoAbout	;–≤—ã–≤–µ—Å—Ç–∏	–∏—Ñ–æ—Ä–º–∞—Ü–∏—é
    884	27C6  EB 5E			  jmp	short ToDos	;–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ DOS
    885								;–µ—Å–ª–∏ –∫–ª—é—á –Ω–µ	—Ç–æ—Ç
    886	27C8				Install:
    887	27C8  BA 153Ar			  lea	DX,AlreadyMsg
    888	27CB  2E: 80 3E	1465r 01	  cmp	InstFlag,On	;‚îê–µ—Å–ª–∏ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ ,—Ç–æ
    889	27D1  74 4F			  je	Output		;‚îò–ø–µ—Ä–µ–π—Ç–∏ –Ω–∞	–≤—ã–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏—è
    890
    891	27D3  33 C0			  xor	AX,AX		;‚îê–∏–Ω–∞—á–µ –ø–æ–ª—É—á–∏—Ç—å	–Ω–∞—á–∞–ª–æ
    892	27D5  8E C0			  mov	ES,AX		;‚îÇ–≤–∏–¥–µ–æ –æ–±–ª–∞—Å—Ç–∏ :	–µ—Å–ª–∏ –≤ –±–∞–π—Ç–µ –ø–æ
    893	27D7  26: A0 0411		  mov	AL,ES:[411h]	;‚îÇ–∞–¥—Ä–µ—Å—É 0000h:0411h —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
    894	27DB  24 30			  and	AL,30h		;‚îÇ3-–π –±–∏—Ç,—Ç–æ —Å–µ–≥–º–µ–Ω—Ç–Ω—ã–π –∞–¥—Ä–µ—Å  -
    895	27DD  3C 30			  cmp	AL,30h		;‚îÇ–Ω–∞—á–∞–ª–∞ –≤–∏–¥–µ–æ –æ–±–ª–∞—Å—Ç–∏ 0B000h –∏–Ω–∞—á–µ
    896	27DF  75 07			  jne	Vid1		;‚îÇ—Å–µ–≥–º–µ–Ω—Ç–Ω—ã–π –∞–¥—Ä–µ—Å —Ä–∞–≤–µ–Ω 0B800h
    897	27E1  2E: C7 06	1350r B000	  mov	VideoBeg,0B000h	;‚îò
    898
    899	27E8				Vid1:
    900	27E8  E8 0062			  call	GrabIntVec	;–∑–∞—Ö–≤–∞—Ç–∏—Ç—å –Ω—É–∂–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä–∞
    901
    902	27EB  A1 002C			  mov	AX,DS:[2Ch]	;‚îê–æ—Å–≤–æ–±–æ–¥–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ,–≤—ã–¥–µ–ª–µ-
    903	27EE  8E C0			  mov	ES,AX		;‚îÇ–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–µ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è
    904	27F0  B4 49			  mov	AH,49h		;‚îÇ–∑–∞–Ω–∏–º–∞–µ–º–æ–π –≤ —Ä–µ–∑–∏–¥–µ–Ω—Ç–µ –ø–∞–º—è—Ç–∏
    905	27F2  CD 21			  int	21h		;‚îò
    906
    907	27F4  B4 09			  mov	AH,09h		;‚îê–≤—ã–≤–µ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–µ
    908	27F6  BA 14BBr			  lea	DX,InstMsg	;‚îÇ–≤ —Ä–µ–∑–∏–¥–µ–Ω—Ç
    909	27F9  CD 21			  int	21h		;‚îò
    910
    911	27FB  BA 1464r			  lea	DX,ResEnd	;‚îê–∑–∞–≤–µ—Ä—à–∏—Ç—å –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º-
    912	27FE  CD 27			  int	27h		;‚îò–º—É –≤ —Ä–µ–∑–∏–¥–µ–Ω—Ç–µ
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 17
locker.asm



    913
    914	2800				Uninst:
    915	2800  BA 15A1r			  lea	DX,NotInstMsg	;‚îê–µ—Å–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞	–Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞,
    916	2803  2E: 80 3E	1465r 00	  cmp	InstFlag,Off	;‚îÇ—Ç–æ –≤—ã–≤–µ—Å—Ç–∏	—Å–æ–æ–±—â–µ–∏–µ –æ–± —ç—Ç–æ–º
    917	2809  74 17			  je	Output		;‚îò
    918
    919	280B  BA 15D3r			  lea	DX,NotSafeMsg	;‚îê–µ—Å–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º—É	–Ω–µ–≤–æ–∑–º–æ–∂–æ
    920	280E  E8 006B			  call	TestIntVec	;‚îÇ—Å–Ω—è—Ç—å —Å —Ä–µ–∑–∏–¥–µ–Ω—Ç–∞, —Ç–æ –≤—ã–≤–µ—Å—Ç–∏
    921	2811  72 0F			  jc	Output		;‚îò—Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —ç—Ç–æ–º
    922
    923	2813  E8 0089			  call	FreeIntVec	;–æ—Å–≤–æ–±–æ–¥–∏—Ç—å –≤–µ–∫—Ç–æ—Ä–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π
    924
    925	2816  B4 49			  mov	AH,49h		;‚îê–æ—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–∞–º—è—Ç—å,–∑–∞–Ω–∏–º–∞–µ–º—É—é
    926	2818  2E: 8E 06	1466r		  mov	ES,SaveCS	;‚îÇ—Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω–æ–π —á–∞—Å—Ç—å—é	–ø—Ä–æ–≥—Ä–∞–º–º—ã
    927	281D  CD 21			  int	21h		;‚îò
    928
    929	281F  BA 1569r			  lea	DX,UninstMsg
    930
    931	2822				Output:
    932	2822  B4 09			      mov   AH,09h	    ;‚îê–≤—ã–≤–µ—Å—Ç–∏ –Ω—É–∂–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    933	2824  CD 21			  int	21h		;‚îò
    934
    935	2826				ToDos:
    936	2826  B8 4C00			      mov   AX,4C00h	    ;‚îê–≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ DOS —Å –∫–æ–¥–æ–º
    937	2829  CD 21			  int	21h		;‚îò–∑–∞–≤–µ—Ä—à–µ–Ω–∏—è 0
    938	282B  C3			  ret			;–≤–æ–∑–≤—Ä–∞—Ç
    939	282C			      InitProc endp
    940
    941				      ;–ü–†–û–¶–ï–î–£–†–ê –ü–†–û–í–ï–†–ö–ò –í–ï–†–°–ò–ò	DOS
    942				      ;–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ–ª–∞–≥	–ø–µ—Ä–µ–æ—Å–∞,–µ—Å–ª–∏
    943				      ;–≤–µ—Ä—Å–∏—è DOS	–º–µ–Ω—å—à–µ –∑–∞–¥–∞–Ω–Ω–æ–π –≤ MinDosVer
    944
    945	282C			      ChkDosVer	proc
    946	282C  B4 30			      mov   AH,30h	   ;‚îê–ø–æ–ª—É—á–∏—Ç—å	–≤ AX –Ω–æ–º–µ—Ä –≤–µ—Ä—Å–∏–∏
    947	282E  CD 21			  int	21h	       ;‚îòDOS
    948	2830  3C 02			  cmp	AL,MinDosVer   ;—Å—Ä–∞–≤–Ω–∏—Ç—å –µ–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π
    949
    950	2832  F8			  clc		       ;—Å–±—Ä–æ—Å–∏—Ç—å —Ñ–ª –≥ –ø–µ—Ä–µ–æ—Å  (CF)
    951	2833  7D 01			  jge	Norma	       ;–µ—Å–ª–∏ –≤–µ—Ä—Å–∏—è –ø–æ–¥—Ö–æ–¥—è—â–∞—è
    952	2835  F9			  stc		       ;–∏–Ω–∞—á–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å	—Ñ–ª–∞–≥ –ø–µ—Ä–µ–æ—Å–∞
    953
    954	2836				Norma:
    955	2836  C3			  ret  ;–≤–æ–∑–≤—Ä–∞—Ç
    956	2837			      ChkDosVer	endp
    957
    958				     ;–ü–†–û–¶–ï–î–£–†–ê –û–ü–†–ï–î–ï–õ–ï–ù–ò–Ø	–ù–ê–õ–ò–ß–ò–Ø –ü–†–û–ì–†–ê–ú–ú–´ –í –ü–ê–ú–Ø–¢–ò
    959
    960	2837			      PresentTest proc
    961	2837  2E: C6 06	1465r 00	  mov	InstFlag,Off   ;—Å–±—Ä–æ—Å–∏—Ç—å —Ñ–ª–∞–≥ –Ω–∞–ª–∏—á–∏—è –≤ —Ä–µ–∑–∏–¥–µ–Ω—Ç–µ
    962	283D  B4 EE			  mov	AH,FuncNum     ;‚îê–æ–±—Ä–∞—Ç–∏—Ç—å—Å—è	–∫ –Ω–∞—à–µ–º—É	–ø—Ä–æ—Ü–µ—Å—Å—É
    963	283F  CD 16			  int	16h	       ;‚îò
    964	2841  3D 2D0C			  cmp	AX,CodeOut     ;–ø–æ–ª—É—á–∏–ª–∏ –æ—Ç–≤–µ—Ç?
    965	2844  75 06			  jne	Return	       ;–µ—Å–ª–∏ –Ω–µ—Ç,—Ç–æ –∫–æ–Ω–µ—Ü
    966	2846  2E: C6 06	1465r 01	  mov	InstFlag,On    ;–∏–Ω–∞—á–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å	—Ñ–ª–∞–≥ –Ω–∞–ª–∏—á–∏—è
    967	284C				Return:
    968	284C  C3			  ret		       ;–≤–æ–∑–≤—Ä–∞—Ç
    969	284D			      PresentTest endp
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 18
locker.asm



    970
    971				     ;–ü–†–û–¶–ï–î–£–†–ê –ó–ê–•–í–ê–¢–ê	–í–ï–ö–¢–û–†–û–í –ü–†–ï–†–´–í–ê–ù–ò–ô
    972
    973	284D			      GrabIntVec proc
    974	284D  B8 3509			  mov	AX,3509h       ;‚îê—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö	–ø–µ—Ä–µ-
    975	2850  CD 21			  int	21h	       ;‚îÇ–º–µ–Ω–Ω—ã—Ö	—Å—Ç–∞—Ä—ã–π –≤–µ–∫—Ç–æ—Ä –ø—Ä–µ—Ä—ã–≤–∞-
    976	2852  2E: 89 1E	0103r		  mov	OfsInt09,BX    ;‚îÇ–Ω–∏—è Int09h
    977	2857  2E: 8C 06	0105r		  mov	SegInt09,ES    ;‚îò
    978
    979	285C  B8 3516			  mov	AX,3516h       ;‚îê—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö	–ø–µ—Ä–µ-
    980	285F  CD 21			  int	21h	       ;‚îÇ–º–µ–Ω–Ω—ã—Ö	—Å—Ç–∞—Ä—ã–π –≤–µ–∫—Ç–æ—Ä –ø—Ä–µ—Ä—ã–≤–∞-
    981	2861  2E: 89 1E	0107r		  mov	OfsInt16,BX    ;‚îÇ–Ω–∏—è Int16h
    982	2866  2E: 8C 06	0109r		  mov	SegInt16,ES    ;‚îò
    983
    984	286B  B8 2509			  mov	AX,2509h       ;‚îê—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å	Int09Hand –≤ –∫–∞—á–µ—Å—Ç–≤–µ
    985	286E  BA 137Dr			  lea	DX,Int09Hand   ;‚îÇ–Ω–æ–≤–æ–≥–æ	–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞	–ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
    986	2871  CD 21			  int	21h	       ;‚îòInt09
    987
    988	2873  B8 2516			  mov	AX,2516h       ;‚îê—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å	Presense –≤ –∫–∞—á–µ—Å—Ç–≤–µ
    989	2876  BA 1456r			  lea	DX,Presense    ;‚îÇ–Ω–æ–≤–æ–≥–æ	–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞	–ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
    990	2879  CD 21			  int	21h	       ;‚îòInt16h
    991	287B  C3			  ret
    992	287C			      GrabIntVec endp
    993
    994				      ;–ü–†–û–¶–ï–î–£–†–ê –ü–†–û–í–ï–†–ö–ò –ü–ï–†–ï–•–í–ê–¢–ê –í–ï–ö–¢–û–†–û–í –ü–†–ï–†–´–í–ê–ù–ò–ô
    995				      ;–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ–ª–∞–≥	–ø–µ—Ä–µ–Ω–æ—Å–∞ –≤ —Å–ª—É—á–∞–µ    +
    996				     –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞
    997				      ;—Ö–æ—Ç—è	–±—ã –æ–¥–Ω–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
    998
    999	287C			      TestIntVec proc
   1000	287C  B8 3509			  mov	AX,3509h	    ;‚îê–ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –∫–æ-
   1001	287F  CD 21			  int	21h		    ;‚îÇ–¥–æ–≤–æ–µ —Å–ª–æ–≤–æ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç-
   1002	2881  26: 81 7F	FE 9D0A		  cmp	ES:[BX-2],TestInt09 ;‚îò—á–∏–∫–æ–º –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è	Int09
   1003	2887  F9			  stc			    ;—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–ª–∞–≥ –ø–µ—Ä–µ–Ω–æ—Å–∞ CF,
   1004	2888  75 14			  jne	Cant		    ;–µ—Å–ª–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏–ª–∏
   1005
   1006	288A  B8 3516			  mov	AX,3516h	    ;‚îê–ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ö–æ–¥–∏—Ç—Å—è –ª–∏	–∫–æ-
   1007	288D  CD 21			  int	21h		    ;‚îÇ–¥–æ–≤–æ–µ —Å–ª–æ–≤–æ –ø–æ—Ä–µ–¥ –æ–±—Ä	–±–æ—Ç-
   1008	288F  26: 81 7F	FE 3AFA		  cmp	ES:[BX-2],TestInt16 ;‚îò—á–∏–∫–æ–º –ø—Ä–µ—Ä—ã–≤	–∏—è Int16h
   1009	2895  F9			  stc			    ;—É—Å—Ç –æ–≤–∏—Ç—å —Ñ–ª –≥ –ø–µ—Ä–µ–æ—Å  CF,
   1010	2896  75 06			  jne	Cant		    ;–µ—Å–ª–∏ –ø—Ä–µ—Ä—ã–≤ –∏–µ	–ø–µ—Ä–µ—Ö–≤ —Ç–∏–ª–∏
   1011
   1012	2898  2E: 8C 06	1466r		  mov	SaveCS,ES	    ;–∑–∞–ø–æ–º–Ω–∏—Ç—å	CS —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω–æ–π
   1013	289D  F8			  clc			    ;–ø—Ä–æ–≥—Ä–∞–º–º—ã,—Å–±—Ä–æ—Å–∏—Ç—å —Ñ–ª–∞–≥
   1014								    ;–ø–µ—Ä–µ–Ω–æ—Å
   1015	289E				Cant:
   1016	289E  C3			  ret			    ;–≤–æ–∑–≤—Ä–∞—Ç
   1017	289F			      TestIntVec endp
   1018
   1019				     ;–ü–†–û–¶–ï–î–£–†–ê –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø –ó–ê–•–í–ê–ß–ï–ù–ù–´–• –í–ï–ö–¢–û–†–û–í	    +
   1020				     –ü–†–ï–†–´–í–ê–ù–ò–ô
   1021
   1022	289F			      FreeIntVec proc
   1023	289F  1E			  push	DS	       ;—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å DS
   1024
   1025	28A0  B8 2509			  mov	AX,2509h       ;‚îê–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–µ–∫—Ç–æ—Ä –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
   1026	28A3  26: 8E 1E	0105r		  mov	DS,ES:SegInt09 ;‚îÇInt09h –∏–∑ –≤—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 19
locker.asm



   1027	28A8  26: 8B 16	0103r		  mov	DX,ES:OfsInt09 ;‚îÇ—Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã
   1028	28AD  CD 21			  int	21h	       ;‚îò
   1029
   1030	28AF  B8 2516			  mov	AX,2516h       ;‚îê–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–µ–∫—Ç–æ—Ä –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
   1031	28B2  26: 8E 1E	0109r		  mov	DS,ES:SegInt16 ;‚îÇInt16h –∏–∑ –≤—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
   1032	28B7  26: 8B 16	0107r		  mov	DX,ES:OfsInt16 ;‚îÇ—Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã
   1033	28BC  CD 21			  int	21h	       ;‚îò
   1034
   1035	28BE  1F			  pop	DS	       ;–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å DS
   1036	28BF  C3			  ret		       ;–≤–æ–∑–≤—Ä–∞—Ç
   1037	28C0			      FreeIntVec endp
   1038
   1039	28C0			      PROGRAM	ends
   1040						end   Start
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 20
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "11/16/22"
??FILENAME			  Text	 "locker  "
??TIME				  Text	 "07:05:59"
??VERSION			  Number 040A
@ATTR1				  Byte	 PROGRAM:1651
@ATTR2				  Byte	 PROGRAM:1935
@BEEPSOUND			  Near	 PROGRAM:272A
@BOTROW				  Number 0016
@CPU				  Text	 0101H
@CURSEG				  Text	 PROGRAM
@ENDTST				  Near	 PROGRAM:26E5
@FILENAME			  Text	 LOCKER
@INFOABOUT			  Near	 PROGRAM:2752
@KEY				  Near	 PROGRAM:2790
@L1BEEP				  Near	 PROGRAM:2737
@L1DRAW				  Near	 PROGRAM:2668
@L2BEEP				  Near	 PROGRAM:273E
@L2DRAW				  Near	 PROGRAM:2675
@L3BEEP				  Near	 PROGRAM:2749
@LEFTCOL			  Number 0003
@LOCKERINFO			  Byte	 PROGRAM:1FF7
@MAXPEL				  Near	 PROGRAM:271F
@MSGADDRES			  Word	 PROGRAM:1649
@NEXT				  Near	 PROGRAM:277E
@NEXTPELR			  Near	 PROGRAM:26F3
@NEXTPELW			  Near	 PROGRAM:2710
@NOTMDA				  Near	 PROGRAM:26BF
@NOTVGA				  Near	 PROGRAM:2771
@OUTPEL				  Near	 PROGRAM:2725
@PAGEOFS			  Word	 PROGRAM:164E
@PAUSA				  Near	 PROGRAM:2789
@PELREGMAS			  Byte	 PROGRAM:1CF7
@READPELREG			  Near	 PROGRAM:26E6
@RIGHTCOL			  Number 004C
@SAVEREGIME			  Byte	 PROGRAM:1650
@SCRBUFSEG			  Word	 PROGRAM:164C
@TESTVIDEO			  Near	 PROGRAM:2696
@TOPROW				  Number 0001
@VERT				  Near	 PROGRAM:2702
@VGAFLAG			  Byte	 PROGRAM:164B
@WORDSIZE			  Text	 2
@WRITEINFO			  Near	 PROGRAM:2653
@WRITEPELREG			  Near	 PROGRAM:26FB
ALREADYMSG			  Byte	 PROGRAM:153A
ATTRBUF				  Byte	 PROGRAM:0B50
BELL				  Number 0007
CANT				  Near	 PROGRAM:289E
CHKDOSVER			  Near	 PROGRAM:282C
CODEOUT				  Number 2D0C
CONT				  Near	 PROGRAM:139D
COPYRIGHT			  Byte	 PROGRAM:1468
CR				  Number 000D
CURSIZE				  Word	 PROGRAM:1354
DRAW				  Near	 PROGRAM:136A
Turbo Assembler	 Version 4.1	    11/16/22 07:05:59	    Page 21
Symbol Table



EXIT009				  Near	 PROGRAM:1422
EXIT09				  Near	 PROGRAM:1447
EXIT_09				  Near	 PROGRAM:139A
FREEINTVEC			  Near	 PROGRAM:289F
FUNCNUM				  Number 00EE
GRABINTVEC			  Near	 PROGRAM:284D
INITPROC			  Near	 PROGRAM:27A0
INSTALL				  Near	 PROGRAM:27C8
INSTFLAG			  Byte	 PROGRAM:1465
INSTMSG				  Byte	 PROGRAM:14BB
INT09HAND			  Near	 PROGRAM:137D
INTEXT				  Near	 PROGRAM:13B0
LF				  Number 000A
LOCKER				  Number 0000
MINDOSVER			  Number 0002
NORMA				  Near	 PROGRAM:2836
NOTINSTMSG			  Byte	 PROGRAM:15A1
NOTSAFEMSG			  Byte	 PROGRAM:15D3
OFF				  Number 0000
OFSINT09			  Word	 PROGRAM:0103
OFSINT16			  Word	 PROGRAM:0107
OK_TEXT				  Byte	 PROGRAM:010B
OLDINT09			  Dword	 PROGRAM:0103
OLDINT16			  Dword	 PROGRAM:0107
ON				  Number 0001
OUTPUT				  Near	 PROGRAM:2822
PASS				  Near	 PROGRAM:145F
PRESENSE			  Near	 PROGRAM:1456
PRESENTTEST			  Near	 PROGRAM:2837
RESEND				  Byte	 PROGRAM:1464
RETURN				  Near	 PROGRAM:284C
SAVECS				  Word	 PROGRAM:1466
SEGINT09			  Word	 PROGRAM:0105
SEGINT16			  Word	 PROGRAM:0109
SIGN				  Byte	 PROGRAM:010C
START				  Near	 PROGRAM:0100
SWLOOP1				  Near	 PROGRAM:13DD
SWLOOP2				  Near	 PROGRAM:13EF
TESTINT09			  Number 9D0A
TESTINT16			  Number 3AFA
TESTINTVEC			  Near	 PROGRAM:287C
TODOS				  Near	 PROGRAM:2826
UNINST				  Near	 PROGRAM:2800
UNINSTMSG			  Byte	 PROGRAM:1569
VERDOSMSG			  Byte	 PROGRAM:149B
VID1				  Near	 PROGRAM:27E8
VIDEOBEG			  Word	 PROGRAM:1350
VIDEOBUF			  Byte	 PROGRAM:010D
VIDEOLEN			  Number 0800
VIDEOOFFS			  Word	 PROGRAM:1352
VIDEOXCG			  Near	 PROGRAM:1356

Groups & Segments		  Bit Size Align  Combine Class

PROGRAM				  16  28C0 Para	  none
